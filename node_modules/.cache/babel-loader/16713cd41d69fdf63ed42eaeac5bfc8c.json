{"ast":null,"code":"var _jsxFileName = \"/Users/chloechan/Desktop/Dynamic Web Applications/final-project-frontend/src/App.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Route, BrowserRouter as Router, Redirect } from 'react-router-dom';\nimport * as firebase from \"firebase/app\";\nimport \"firebase/auth\"; //import pages\n\nimport CreateAccount from './pages/CreateAccount.js';\nimport Dashboard from './pages/Dashboard.js';\nimport Login from './pages/Login.js'; //styling\n\nimport './App.css';\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [userInformation, setUserInformation] = useState({});\n  const firebaseConfig = {\n    apiKey: \"AIzaSyBV6DxXt1G7u6aHW-1devVzlbNdLx-GVq0\",\n    authDomain: \"final-project-dwa-d2cba.firebaseapp.com\",\n    databaseURL: \"https://final-project-dwa-d2cba.firebaseio.com\",\n    projectId: \"final-project-dwa-d2cba\",\n    storageBucket: \"final-project-dwa-d2cba.appspot.com\",\n    messagingSenderId: \"721781788829\",\n    appId: \"1:721781788829:web:14027a9031baae902b8474\"\n  };\n  useEffect(() => {\n    if (!firebase.apps.length) {\n      firebase.initializeApp(firebaseConfig);\n    }\n\n    firebase.auth().setPersistence(firebase.auth.Auth.Persistence.SESSION).catch(function (e) {\n      console.log(\"AUTH ERROR\", e);\n    });\n  }, [firebaseConfig]);\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        setUserInformation(user);\n        setLoggedIn(true);\n      } else {\n        setLoggedIn(false);\n      }\n\n      setLoading(false);\n    });\n  }, []); // Logout \n\n  function LogoutFunction() {\n    firebase.auth().signOut().then(function () {\n      setLoggedIn(false);\n    }).catch(function (error) {\n      console.log(\" LOGOUT ERROR\", error);\n    });\n  } // Create Account\n\n\n  function CreateAccountFunction(e) {\n    e.preventDefault();\n    console.log(\"form payload\", e);\n    let email = e.currentTarget.createEmail.value;\n    let password = e.currentTarget.createPassword.value;\n    console.log('email', email);\n    console.log(\"password\", password); //Login\n\n    function LoginFunction(e) {\n      e.preventDefault();\n      let email = e.currentTarget.loginEmail.value;\n      let password = e.currentTarget.loginPassword.value;\n      firebase.auth().signInWithEmailAndPassword(email, password).then(function (response) {\n        console.log(\"LOGIN RESPONSE\", response);\n        setLoggedIn(true);\n      }).catch(function (error) {\n        console.log(\"LOGIN ERROR\", error);\n      });\n    }\n\n    if (loading) return null;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Dashboard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }\n    }, !loggedIn ? /*#__PURE__*/React.createElement(Login, {\n      LoginFunction: LoginFunction,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 22\n      }\n    }) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 65\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/create-account\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 8\n      }\n    }, !loggedIn ? /*#__PURE__*/React.createElement(CreateAccount, {\n      CreateAccountFunction: CreateAccountFunction,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 22\n      }\n    }) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 89\n      }\n    }))));\n  }\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/chloechan/Desktop/Dynamic Web Applications/final-project-frontend/src/App.js"],"names":["React","useEffect","useState","Route","BrowserRouter","Router","Redirect","firebase","CreateAccount","Dashboard","Login","App","loggedIn","setLoggedIn","loading","setLoading","userInformation","setUserInformation","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","apps","length","initializeApp","auth","setPersistence","Auth","Persistence","SESSION","catch","e","console","log","onAuthStateChanged","user","LogoutFunction","signOut","then","error","CreateAccountFunction","preventDefault","email","currentTarget","createEmail","value","password","createPassword","LoginFunction","loginEmail","loginPassword","signInWithEmailAndPassword","response"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport {Route, BrowserRouter as Router, Redirect} from 'react-router-dom';\nimport * as firebase from \"firebase/app\";\nimport \"firebase/auth\";\n\n//import pages\nimport CreateAccount from './pages/CreateAccount.js'; \nimport Dashboard from  './pages/Dashboard.js'; \nimport Login from './pages/Login.js'; \n\n//styling\nimport './App.css';\n\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [loading, setLoading] = useState(true); \n  const [userInformation, setUserInformation] = useState({});\n\n  const firebaseConfig = {\n  apiKey: \"AIzaSyBV6DxXt1G7u6aHW-1devVzlbNdLx-GVq0\",\n  authDomain: \"final-project-dwa-d2cba.firebaseapp.com\",\n  databaseURL: \"https://final-project-dwa-d2cba.firebaseio.com\",\n  projectId: \"final-project-dwa-d2cba\",\n  storageBucket: \"final-project-dwa-d2cba.appspot.com\",\n  messagingSenderId: \"721781788829\",\n  appId: \"1:721781788829:web:14027a9031baae902b8474\",\n};\n\nuseEffect(()=>{\n  if(!firebase.apps.length){\n   firebase.initializeApp(firebaseConfig);\n }\n firebase\n .auth()\n .setPersistence(firebase.auth.Auth.Persistence.SESSION)\n .catch(function(e) {\n   console.log(\"AUTH ERROR\",e);\n });\n}, [firebaseConfig]);\n\nuseEffect(()=> {\n  firebase.auth().onAuthStateChanged(function(user){\n    if(user){\n      setUserInformation(user);\n      setLoggedIn(true); \n    }\n    else{\n      setLoggedIn(false);\n    }\n    setLoading(false);\n  });\n}, []);\n\n // Logout \n function LogoutFunction(){\n  firebase\n  .auth()\n  .signOut()\n  .then(function(){\n    setLoggedIn(false)\n  })\n  .catch(function(error){\n    console.log(\" LOGOUT ERROR\", error);\n  });\n}\n\n// Create Account\nfunction CreateAccountFunction(e){\n  e.preventDefault(); \n  console.log(\"form payload\", e);  \n  let email = e.currentTarget.createEmail.value; \n  let password = e.currentTarget.createPassword.value;\n\n  console.log('email', email); \n  console.log(\"password\", password);\n\n//Login\nfunction LoginFunction(e){\n  e.preventDefault(); \n  let email = e.currentTarget.loginEmail.value;\n  let password = e.currentTarget.loginPassword.value;\n\n  firebase\n  .auth()\n  .signInWithEmailAndPassword(email,password)\n  .then(function(response){\n    console.log(\"LOGIN RESPONSE\", response); \n    setLoggedIn(true); \n  })\n  .catch(function(error){\n    console.log(\"LOGIN ERROR\", error)\n  });\n}\n\nif (loading) return null;\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Route exact path=\"/\">\n          <Dashboard/>\n        </Route>\n\n        <Route exact path=\"/login\">\n       {!loggedIn ? (<Login LoginFunction={LoginFunction}/>) : (<Redirect to=\"/\"/>)}\n       </Route>\n\n       <Route exact path=\"/create-account\">\n       {!loggedIn ? (<CreateAccount CreateAccountFunction={CreateAccountFunction}/>) : (<Redirect to=\"/\"/>)}\n       </Route>\n\n      </Router>\n\n\n    </div>\n  );\n}}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}